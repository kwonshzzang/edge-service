server:
  port: 9000 # 서버가 연결을 수락하는 포트
  netty:
    connection-timeout: 2s  # 서버와 TCP 연결을 수립하기까지 기다리는 시간
    idle-timeout: 15s       # 데이터가 전송되지 않는 경우 TCP 연결을 끊기 전에 기다리는 시간
  shutdown: graceful # 우아한 종료 활성화

spring:
  application:
    name: edge-service
  lifecycle:
    timeout-per-shutdown-phase: 15s # 우아한 종료 기간을 15초로 설정
  config:
    import: "optional:configserver:"

  cloud:
    gateway:
      routes: # 라우트 정의 목록
        - id: catalog-route # 라우트 ID
          uri: ${CATALOG_SERVICE_URL:http://localhost:9001}/books
          predicates:
            - Path=/books/** # 일치하는 경로를 술어로 사용한다.
        - id: order-route
          uri: ${ORDER_SERVICE_URL:http://localhost:9002}/orders # URI 값은 환경 변수로부터 오거나 해당 환경 변수가 없는 경우 기본값을 사용한다.
          predicates:
            - Path=/orders/**